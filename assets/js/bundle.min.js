"use strict";function getLastDigit(e){var a=e.match(/\d+$/),t=void 0;return a&&(t=a[0]),t=parseInt(t,10)}!function(){var o=[];window.audioCurrentlyPlaying=!1;(new Date).getTime(),performance.timing.navigationStart;var e=window.performance.timing,a=-(e.loadEventEnd-e.navigationStart),t=100*parseInt(a/1e3%60);$(".loadbar").animate({width:5.5},t),$.getJSON("data.json").done(function(e){try{document.title=e.texts.page_title[0].written}catch(e){}}).fail(function(e){}),$.getJSON("files.json").done(function(e){try{$.each(e.sounds,function(e,a){o.push(a)}),function(){for(var e=0;e<o.length;e++){var a='<div class="track" id="track_'+e+'">';a+='<div class="letterlr left">L</div>',a+='<div class="ui-slider ui-slider-horizontal"></div>',a+='<div class="letterlr right">R</div>',a+="<div class='stepladder'></div>",a+="<div class='ui-slider ui-slider-vertical'></div>",a+="<div class='show-value-wrapper'><div class='show-value'><div class='bgr'></div></div></div>",a+="<label>track "+e+"</label>",a+="</div>",$("section#track-wrapper").append(a)}$("#slider-top").slider({value:"50",slide:function(e,a){for(var t=0;t<o.length;t++)$("#track_"+t).find(".ui-slider-vertical").slider("value",a.value),$("#track_"+t).find(".show-value").css({height:+a.value+"%"}),null!=window.stage[t]&&(window.stage[t].instance.volume=a.value/100)}}),$(".track .ui-slider-horizontal").slider({orientation:"horizontal",value:"50",slide:function(e,a){window.stage[parseInt($(e.target).parent().attr("id").split("_")[1])].instance.pan=-1+parseFloat(2*a.value)}}),$(".track .ui-slider-vertical").slider({orientation:"vertical",value:"50",create:function(e,a){var t=parseInt($(e.target).parent().attr("id").split("_")[1]);$("#track_"+t).find(".show-value").css({height:"50%"})},slide:function(e,a){var t=parseInt($(e.target).parent().attr("id").split("_")[1]);null!=window.stage[t]&&(window.stage[t].instance.volume=a.value/100),$("#track_"+t).find(".show-value").css({height:+a.value+"%"})}})}()}catch(e){}$.when(function(){var e=new createjs.LoadQueue;createjs.Sound.alternateExtensions=["mp3"],e.installPlugin(createjs.Sound);for(var a=0;a<o.length;a++)e.loadFile({id:"audio-"+a,src:o[a].url});e.on("fileload",function(e){l++;var a=performance.now();i=a-n,n=a,$(".loadbar").animate({width:r+15.75+"%"},i),5==l&&$(".loadbar").animate({width:"100%",easing:"linear"},300),r+=15.75},this),e.on("complete",function(e){t.resolve("sounds ready")},this),window.audioFiles=o;var t=$.Deferred(),i=0,n=0,r=(performance.now(),21.25),l=0;return t.promise()}()).done(function(){$("button").removeClass("disabled"),$(".preloader-wrapper").removeClass("active")})}).fail(function(e){});window.instances=[],window.stage=[],window.handleAudio=function(e,a){if(null==window.stage[a]){var t=$("#track_"+a).find(".ui-slider-vertical").slider("value")/100;window.stage[a]={instance:createjs.Sound.play(e,{loop:-1,volume:t,pan:0}),index:a}}else $.each(window.stage,function(e,a){a.instance.paused=!1})}}(),$(".btn-vertical").on("click",function(e){$(".btn-vertical").removeClass("active"),$(e.currentTarget).addClass("active")}),$("#button_stop").on("click",function(e){e.preventDefault(),$.each(window.stage,function(e,a){null!=a&&(a.instance.paused=!0)}),window.stage=[]}),$("#button_play").on("click",function(e){e.preventDefault(),$.each(window.audioFiles,function(e,a){handleAudio(a.url,e)})}),$("#button_pause").on("click",function(e){e.preventDefault();for(var a=0;a<window.stage.length;a++)window.stage[a].instance.paused=!0});